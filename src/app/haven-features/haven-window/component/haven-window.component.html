<div #windowDiv class="window" style="position:absolute;" appHavenWindowBringforward [havenWindow]="this">

  <div class="app-container mat-elevation-z8" [ngStyle]="{'border-color': color}">
   <app-factory [appType]="appType" [id]="id" [query]="query" #appDiv> </app-factory>
  </div>
  <div class="title mat-elevation-z8" #title appHavenWindowDrag
    [windowDiv]="windowDiv"
    [havenWindow]="this" [ngStyle]="{'background': color, 'color': 'white', 'border-color': color}" >

    <mat-icon matTooltip="Open Menu"
      style="background: teal;  cursor: pointer;float:left;border-radius: 100%; margin: 4px; border: 2px solid white; height: 20px; width: 20px;"
      (click)="toggleMenu()">
    </mat-icon>

    {{ name }} - 2030

    <mat-icon matTooltip="Close"
      style="background: #ef3030; cursor: pointer;float:right;border-radius: 100%;  margin: 4px; border: 2px solid white; height: 20px; width: 20px;"
      (click)="removeWindow()">
    </mat-icon>
    <mat-icon matTooltip="Maximize"
      style="background: #1eb01e;  cursor: pointer;float:right;border-radius: 100%; margin: 4px; border: 2px solid white; height: 20px; width: 20px;">
    </mat-icon>
    <mat-icon matTooltip="Minimize"
      style="background: #e1c428; cursor: pointer; float:right; margin: 4px; border: 2px solid white; border-radius: 100%; height: 20px; width: 20px;">
    </mat-icon>

  </div>


  <div class="resize-handle" appHavenWindowResize [windowDiv]="windowDiv" [havenWindow]="this" [titleDiv]="title"
    [menuDiv]="menu" [appDiv]="appDiv"></div>

  <div class="window-menu mat-elevation-z8" #menu [ngStyle]="{'color': color, 'border-color': color}"
    [@menuOpen]="menuState" appHavenWindowBringforward [havenWindow]="this">

  </div>
</div>
